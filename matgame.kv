
<Menu>:
    GridLayout:
        cols: 1
        Label:
            id: player_level
            text: "level: {}".format(app.player_level)
        GridLayout:
            rows: 1
            Label:
                text: "Matter"
            Label:
                text: "level"
        GridLayout:
            rows: 1
            Button:
                text: "Addition"
                on_press:
                    root.manager.transition.direction = 'left'
                    root.manager.current = "add_menu"
            Label:
                text: str(app.addition.naturals.level + app.addition.integers.level)

<AddMenu>:
    GridLayout:
        cols: 1
        Label:
            text: "Addition Menu"
        GridLayout:
            rows: 1
            Label:
            Label:
                text: "Level"
            Label:
                text: "XP"
        GridLayout:
            rows: 1
            Button:
                text: "natural"
                on_press:
                    root.manager.transition.direction = 'left'
                    root.manager.current = "game_menu"
                    app.change_current_matter("add_naturals")
                    app.new_problem()
            Label:
                text: "level: {}".format(app.addition.naturals.level)
            Label:
                text: "xp: {}".format(int(app.addition.naturals.xp))
        GridLayout:
            rows: 1
            Button:
                text: "Integers (naturals + negatives)"
                on_press:
                    root.manager.transition.direction = 'left'
                    root.manager.current = "game_menu"
                    app.change_current_matter("add_integers")
                    app.new_problem()
            Label:
                text: "level: {}".format(app.addition.integers.level)
            Label:
                text: "xp: {}".format(int(app.addition.integers.xp))

        Label:
        GridLayout:
            rows: 1
            Button:
                text: "Back"
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"

<MatterHeader@GridLayout>:
    rows: 1
    Label:
        text: app.current_matter_name

<LevelAndXPHeader@GridLayout>:
    rows: 1
    Label:
        text: "level: {}".format(app.current_matter_level)
    Label:
        text: "xp: {}".format(int(app.current_matter_xp))

<ProblemLabel@Label>:
    id: problem_label
    text: str(app.problem_label)

<MsgLabel@Label>:
    text: str(app.current_xp_to_add_label)
    color: app.msg_color

<GameMenu>:
    button_1: button_1
    button_2: button_2
    button_3: button_3
    GridLayout:
        cols: 1
        MatterHeader
        LevelAndXPHeader
        ProblemLabel
        GridLayout:
            rows: 1
            Button:
                id: button_1
                text: str(app.option_1)
                on_press:
                    app.check_option(self)
            Button:
                id: button_2
                text: str(app.option_2)
                on_press:
                    app.check_option(self)
            Button:
                id: button_3
                text: str(app.option_3)
                on_press:
                    app.check_option(self)
        MsgLabel
        GridLayout:
            rows: 1
            Button:
                text: "Back"
                on_press:
                    root.button_1.background_color = 1,1,1,1
                    root.button_2.background_color = 1,1,1,1
                    root.button_3.background_color = 1,1,1,1
                    root.manager.transition.direction = 'right'
                    root.manager.current = "add_menu"
            Label
            Button:
                text: "next"
                on_press:
                    root.button_1.background_color = 1,1,1,1
                    root.button_2.background_color = 1,1,1,1
                    root.button_3.background_color = 1,1,1,1
                    app.new_problem()


<Game>:
    id: screen_manager
    menu: menu
    add_menu: add_menu
    game_menu: game_menu
    Menu:
        id: menu
        name: "menu"
        manager: screen_manager
    AddMenu:
        id: add_menu
        name: "add_menu"
        manager: screen_manager
    GameMenu:
        id: game_menu
        name: "game_menu"
        manager: screen_manager
